{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://mova.dev/schemas/env.smartlink_stats_get_v1.schema.json",
  "title": "env.smartlink_stats_get_v1",
  "description": "Envelope (speech-act) for retrieving SmartLink statistics. This envelope describes the interface contract for statistics retrieval, not the implementation. Part of SmartLink MOVA 4.0.0 implementation.",
  "type": "object",
  "properties": {
    "envelope_id": {
      "type": "string",
      "const": "env.smartlink_stats_get_v1",
      "description": "Canonical identifier for this envelope type."
    },
    "verb": {
      "type": "string",
      "const": "get",
      "description": "MOVA verb: get (retrieve data)."
    },
    "correlation_id": {
      "type": "string",
      "description": "Unique identifier for this specific stats request (for tracing and correlation)."
    },
    "roles": {
      "type": "object",
      "description": "Roles involved in this speech-act.",
      "properties": {
        "requester": {
          "type": "string",
          "description": "Who is requesting the statistics (e.g., 'admin-spa', 'api-client', 'analytics-agent')."
        },
        "executor": {
          "type": "string",
          "description": "Who will execute the query (e.g., 'analytics-worker-v1', 'stats-service')."
        }
      },
      "required": [
        "requester",
        "executor"
      ],
      "additionalProperties": false
    },
    "payload": {
      "type": "object",
      "description": "The data payload for statistics retrieval.",
      "properties": {
        "input": {
          "$ref": "ds.smartlink_stats_query_v1.schema.json",
          "description": "The statistics query parameters."
        },
        "output": {
          "$ref": "ds.smartlink_stats_report_v1.schema.json",
          "description": "The statistics report (populated by executor in response)."
        }
      },
      "required": [
        "input"
      ],
      "additionalProperties": false
    },
    "meta": {
      "type": "object",
      "description": "Optional metadata for tracking, timestamps, etc.",
      "properties": {
        "timestamp": {
          "type": "string",
          "format": "date-time",
          "description": "ISO 8601 timestamp of the request."
        },
        "trace_id": {
          "type": "string",
          "description": "Distributed trace identifier."
        },
        "request_id": {
          "type": "string",
          "description": "Unique request identifier."
        }
      },
      "additionalProperties": true
    }
  },
  "required": [
    "envelope_id",
    "verb",
    "roles",
    "payload"
  ],
  "additionalProperties": false
}
