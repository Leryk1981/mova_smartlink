# ‚ö†Ô∏è –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –ø–æ–º–∏–ª–∫–∏ "invalid header value"

## üîç –í–∞—à–∞ –ø—Ä–æ–±–ª–µ–º–∞

Workflow –ø–∞–¥–∞—î –∑ –ø–æ–º–∏–ª–∫–æ—é:
```
Headers.set: "***
  ***" is an invalid header value
```

**–ü—Ä–∏—á–∏–Ω–∞**: –£ –≤–∞—à–æ–º—É `CLOUDFLARE_API_TOKEN` —î **–Ω–µ–≤–∏–¥–∏–º—ñ —Å–∏–º–≤–æ–ª–∏** (–ø—Ä–æ–±—ñ–ª–∏, –ø–µ—Ä–µ–Ω–æ—Å–∏ —Ä—è–¥–∫—ñ–≤).

---

## ‚úÖ –®–í–ò–î–ö–ï –†–Ü–®–ï–ù–ù–Ø (2 —Ö–≤–∏–ª–∏–Ω–∏)

### –ö—Ä–æ–∫ 1: –ó–∞–ø—É—Å—Ç—ñ—Ç—å —Å–∫—Ä–∏–ø—Ç –æ—á–∏—â–µ–Ω–Ω—è —Ç–æ–∫–µ–Ω—É

```powershell
# Windows PowerShell
cd d:\Projects_Clean\mova_smartlink
.\scripts\clean-token.ps1
```

### –ö—Ä–æ–∫ 2: –í—Å—Ç–∞–≤—Ç–µ –≤–∞—à —Ç–æ–∫–µ–Ω

–ö–æ–ª–∏ —Å–∫—Ä–∏–ø—Ç –ø–æ–ø—Ä–æ—Å–∏—Ç—å, –≤—Å—Ç–∞–≤—Ç–µ —Ç–æ–∫–µ–Ω –∑ Cloudflare (—Ç–æ–π —Å–∞–º–∏–π, —â–æ –∑–∞—Ä–∞–∑ —É GitHub Secrets).

### –ö—Ä–æ–∫ 3: –°–∫–æ–ø—ñ—é–π—Ç–µ –æ—á–∏—â–µ–Ω–∏–π —Ç–æ–∫–µ–Ω

–°–∫—Ä–∏–ø—Ç –ø–æ–∫–∞–∂–µ:
```
‚úÖ Cleaned token:
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
cloudflare_api_token_abc123xyz789...
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

‚úÖ Token copied to clipboard!
```

### –ö—Ä–æ–∫ 4: –û–Ω–æ–≤—ñ—Ç—å GitHub Secret

1. –ô–¥—ñ—Ç—å: https://github.com/Leryk1981/mova_smartlink/settings/secrets/actions
2. –ó–Ω–∞–π–¥—ñ—Ç—å **CLOUDFLARE_API_TOKEN**
3. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Remove"** ‚Üí **"Yes, remove this secret"**
4. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"New repository secret"**
5. –Ü–º'—è: `CLOUDFLARE_API_TOKEN`
6. –ó–Ω–∞—á–µ–Ω–Ω—è: **Ctrl+V** (–≤—Å—Ç–∞–≤—Ç–µ –æ—á–∏—â–µ–Ω–∏–π —Ç–æ–∫–µ–Ω –∑ clipboard)
7. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Add secret"**

### –ö—Ä–æ–∫ 5: –ó–∞–ø—É—Å—Ç—ñ—Ç—å –¥–µ–ø–ª–æ–π

```
GitHub ‚Üí Actions ‚Üí Deploy Pages ‚Üí Run workflow ‚Üí Run workflow
```

‚úÖ **–ú–∞—î –∑–∞–ø—Ä–∞—Ü—é–≤–∞—Ç–∏!**

---

## üìã –î–µ—Ç–∞–ª—å–Ω–µ –ø–æ—è—Å–Ω–µ–Ω–Ω—è

### –©–æ —Å—Ç–∞–ª–æ—Å—è?

–ö–æ–ª–∏ –≤–∏ –∫–æ–ø—ñ—é–≤–∞–ª–∏ —Ç–æ–∫–µ–Ω –∑ Cloudflare Dashboard, **–≤–∏–ø–∞–¥–∫–æ–≤–æ —Å–∫–æ–ø—ñ—é–≤–∞–ª–∏**:
- –ü—Ä–æ–±—ñ–ª–∏ –¥–æ/–ø—ñ—Å–ª—è —Ç–æ–∫–µ–Ω—É
- –ü–µ—Ä–µ–Ω–æ—Å —Ä—è–¥–∫–∞
- –ù–µ–≤–∏–¥–∏–º—ñ —Å–∏–º–≤–æ–ª–∏

**–ü—Ä–∏–∫–ª–∞–¥ –Ω–µ–≤—ñ—Ä–Ω–æ–≥–æ —Ç–æ–∫–µ–Ω—É** (—è–∫ GitHub –π–æ–≥–æ –±–∞—á–∏—Ç—å):
```
cloudflare_api_token_abc123
xyz789
```
–ê–±–æ:
```
  cloudflare_api_token_abc123  
```

**–ü—Ä–∞–≤–∏–ª—å–Ω–∏–π —Ç–æ–∫–µ–Ω** (–æ–¥–∏–Ω —Ä—è–¥–æ–∫, –±–µ–∑ –ø—Ä–æ–±—ñ–ª—ñ–≤):
```
cloudflare_api_token_abc123xyz789
```

### –ß–æ–º—É GitHub –ø–æ–∫–∞–∑—É—î `***`?

GitHub **–º–∞—Å–∫—É—î —Å–µ–∫—Ä–µ—Ç–∏** –≤ –ª–æ–≥–∞—Ö –¥–ª—è –±–µ–∑–ø–µ–∫–∏. –ö–æ–ª–∏ —Ç–æ–∫–µ–Ω –º–∞—î –ø–µ—Ä–µ–Ω–æ—Å —Ä—è–¥–∫–∞, GitHub –ø–æ–∫–∞–∑—É—î:
```
***
  ***
```

–¶–µ –æ–∑–Ω–∞—á–∞—î:
- –ü–µ—Ä—à–∏–π `***` = –ø–µ—Ä—à–∞ —á–∞—Å—Ç–∏–Ω–∞ —Ç–æ–∫–µ–Ω—É
- –î—Ä—É–≥–∏–π `***` = –¥—Ä—É–≥–∞ —á–∞—Å—Ç–∏–Ω–∞ –ø—ñ—Å–ª—è –ø–µ—Ä–µ–Ω–æ—Å—É —Ä—è–¥–∫–∞

### –Ø–∫ —Å–∫—Ä–∏–ø—Ç –¥–æ–ø–æ–º–∞–≥–∞—î?

```powershell
.\scripts\clean-token.ps1
```

–°–∫—Ä–∏–ø—Ç:
1. ‚úÖ –í–∏–¥–∞–ª—è—î –í–°–Ü –ø—Ä–æ–±—ñ–ª–∏
2. ‚úÖ –í–∏–¥–∞–ª—è—î –ø–µ—Ä–µ–Ω–æ—Å–∏ —Ä—è–¥–∫—ñ–≤
3. ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä—è—î –¥–æ–≤–∂–∏–Ω—É (–º–∞—î –±—É—Ç–∏ 40+ —Å–∏–º–≤–æ–ª—ñ–≤)
4. ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä—è—î —Ñ–æ—Ä–º–∞—Ç
5. ‚úÖ –ö–æ–ø—ñ—é—î –æ—á–∏—â–µ–Ω–∏–π —Ç–æ–∫–µ–Ω —É clipboard
6. ‚úÖ –ü–æ–∫–∞–∑—É—î —â–æ —Ä–æ–±–∏—Ç–∏ –¥–∞–ª—ñ

---

## üõ†Ô∏è –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∏–π —Å–ø–æ—Å—ñ–± (–±–µ–∑ —Å–∫—Ä–∏–ø—Ç—É)

### 1. –°—Ç–≤–æ—Ä—ñ—Ç—å –ù–û–í–ò–ô —Ç–æ–∫–µ–Ω —É Cloudflare

1. –ô–¥—ñ—Ç—å: https://dash.cloudflare.com/profile/api-tokens
2. –í–∏–¥–∞–ª—ñ—Ç—å —Å—Ç–∞—Ä–∏–π —Ç–æ–∫–µ–Ω (—è–∫—â–æ —î)
3. **Create Token** ‚Üí **Edit Cloudflare Workers** (template)
4. **Create Token**

### 2. –°–∫–æ–ø—ñ—é–π—Ç–µ —Ç–æ–∫–µ–Ω –ü–†–ê–í–ò–õ–¨–ù–û

**–î–£–ñ–ï –í–ê–ñ–õ–ò–í–û**:

1. **TRIPLE-CLICK** (3 —Ä–∞–∑–∏ –∫–ª—ñ–∫–Ω—É—Ç–∏) –Ω–∞ —Ç–æ–∫–µ–Ω—ñ
   - –¶–µ –≤–∏–¥—ñ–ª–∏—Ç—å –í–ï–°–¨ —Ç–æ–∫–µ–Ω –±–µ–∑ –∑–∞–π–≤–æ–≥–æ
2. **Ctrl+C** (—Å–∫–æ–ø—ñ—é–≤–∞—Ç–∏)
3. –í—ñ–¥–∫—Ä–∏–π—Ç–µ **–ë–ª–æ–∫–Ω–æ—Ç** (Notepad)
4. **Ctrl+V** (–≤—Å—Ç–∞–≤–∏—Ç–∏ –≤ –±–ª–æ–∫–Ω–æ—Ç)
5. **–ü–ï–†–ï–í–Ü–†–¢–ï**:
   - –¢–æ–∫–µ–Ω –Ω–∞ **–û–î–ù–û–ú–£ —Ä—è–¥–∫—É**?
   - –ù–µ–º–∞—î –ø—Ä–æ–±—ñ–ª—ñ–≤ **–î–û** —Ç–æ–∫–µ–Ω—É?
   - –ù–µ–º–∞—î –ø—Ä–æ–±—ñ–ª—ñ–≤ **–ü–Ü–°–õ–Ø** —Ç–æ–∫–µ–Ω—É?
   - –ü–æ—á–∏–Ω–∞—î—Ç—å—Å—è –∑ **–±—É–∫–≤–∏ –∞–±–æ —Ü–∏—Ñ—Ä–∏**?
6. –í –±–ª–æ–∫–Ω–æ—Ç—ñ: **Ctrl+A** (–≤–∏–¥—ñ–ª–∏—Ç–∏ –≤—Å–µ) ‚Üí **Ctrl+C** (—Å–∫–æ–ø—ñ—é–≤–∞—Ç–∏)

### 3. –î–æ–¥–∞–π—Ç–µ –≤ GitHub

1. GitHub ‚Üí Settings ‚Üí Secrets ‚Üí Actions
2. –í–∏–¥–∞–ª—ñ—Ç—å —Å—Ç–∞—Ä–∏–π `CLOUDFLARE_API_TOKEN`
3. Create new secret:
   - Name: `CLOUDFLARE_API_TOKEN`
   - Value: **–∫–ª—ñ–∫–Ω—ñ—Ç—å –≤ –ø–æ–ª–µ** ‚Üí **Ctrl+V**
   - **–ù–ï –î–†–£–ö–£–ô–¢–ï –í–†–£–ß–ù–£!**
   - **–ù–ï –ù–ê–¢–ò–°–ö–ê–ô–¢–ï Enter –ü–Ü–°–õ–Ø –í–°–¢–ê–í–ö–ò!**
4. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –∫–Ω–æ–ø–∫—É **"Add secret"**

---

## ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —â–æ –≤—Å–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ

### –Ø–∫ –≤–∏–≥–ª—è–¥–∞—î –ü–†–ê–í–ò–õ–¨–ù–ò–ô —Ç–æ–∫–µ–Ω:

```
cloudflare_api_token_abc123xyz789qwerty456...
```

- ‚úÖ –û–¥–∏–Ω —Ä—è–¥–æ–∫
- ‚úÖ –ë–µ–∑ –ø—Ä–æ–±—ñ–ª—ñ–≤
- ‚úÖ 40+ —Å–∏–º–≤–æ–ª—ñ–≤
- ‚úÖ –¢—ñ–ª—å–∫–∏ –±—É–∫–≤–∏, —Ü–∏—Ñ—Ä–∏, `_`, `-`

### –Ø–∫ –≤–∏–≥–ª—è–¥–∞—î –ù–ï–ü–†–ê–í–ò–õ–¨–ù–ò–ô —Ç–æ–∫–µ–Ω:

```
  cloudflare_api_token_abc123
xyz789  
```

- ‚ùå –ü—Ä–æ–±—ñ–ª–∏ –Ω–∞ –ø–æ—á–∞—Ç–∫—É
- ‚ùå –ü–µ—Ä–µ–Ω–æ—Å —Ä—è–¥–∫–∞ –≤ —Å–µ—Ä–µ–¥–∏–Ω—ñ
- ‚ùå –ü—Ä–æ–±—ñ–ª–∏ –≤ –∫—ñ–Ω—Ü—ñ

---

## üöÄ –ü—ñ—Å–ª—è –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è

1. –ó–∞–ø—É—Å—Ç—ñ—Ç—å workflow: `Actions ‚Üí Deploy Pages ‚Üí Run workflow`
2. Workflow **–ù–ï** –ø–æ–≤–∏–Ω–µ–Ω –ø–∞–¥–∞—Ç–∏ –∑ "invalid header value"
3. –Ø–∫—â–æ —ñ–Ω—à–∞ –ø–æ–º–∏–ª–∫–∞ - –¥–∏–≤—ñ—Ç—å—Å—è –ª–æ–≥–∏ (–≤–æ–Ω–∏ –±—É–¥—É—Ç—å —ñ–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–∏–º–∏)
4. –ü—ñ—Å–ª—è —É—Å–ø—ñ—Ö—É: —Å–∞–π—Ç –¥–æ—Å—Ç—É–ø–Ω–∏–π –Ω–∞ `https://[PROJECT].pages.dev`

---

## üÜò –í—Å–µ —â–µ –Ω–µ –ø—Ä–∞—Ü—é—î?

### –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —ñ–Ω—à—ñ —Å–µ–∫—Ä–µ—Ç–∏

–ú–æ–∂–ª–∏–≤–æ –ø—Ä–æ–±–ª–µ–º–∞ –≤ **CLOUDFLARE_ACCOUNT_ID**:

1. Account ID –º–∞—î –±—É—Ç–∏ **—Ç–æ—á–Ω–æ 32 —Å–∏–º–≤–æ–ª–∏**
2. –§–æ—Ä–º–∞—Ç: `1234567890abcdef1234567890abcdef`
3. –ë–µ–∑ –ø—Ä–æ–±—ñ–ª—ñ–≤, –±–µ–∑ –ø–µ—Ä–µ–Ω–æ—Å—ñ–≤

**–î–µ –≤–∑—è—Ç–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π Account ID**:
1. –ô–¥—ñ—Ç—å: https://dash.cloudflare.com
2. –ö–ª—ñ–∫–Ω—ñ—Ç—å **Pages** –≤ –ª—ñ–≤–æ–º—É –º–µ–Ω—é
3. –°–∫–æ–ø—ñ—é–π—Ç–µ –∑ URL: `dash.cloudflare.com/{ACCOUNT_ID}/pages`

### –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –Ω–∞–∑–≤—É –ø—Ä–æ–µ–∫—Ç—É

**CLOUDFLARE_PAGES_PROJECT** –º–∞—î –±—É—Ç–∏:
- ‚úÖ Lowercase (–º–∞–ª–µ–Ω—å–∫—ñ –ª—ñ—Ç–µ—Ä–∏)
- ‚úÖ –ë–µ–∑ –ø—Ä–æ–±—ñ–ª—ñ–≤
- ‚úÖ –ú–æ–∂–Ω–∞ –¥–µ—Ñ—ñ—Å–∏ `-`
- ‚ùå –ë–µ–∑ `_` –ø—ñ–¥–∫—Ä–µ—Å–ª–µ–Ω—å
- ‚ùå –ë–µ–∑ –≤–µ–ª–∏–∫–∏—Ö –ª—ñ—Ç–µ—Ä

**–ü—Ä–∏–∫–ª–∞–¥**: `mova-smartlink-admin` (–ø—Ä–∞–≤–∏–ª—å–Ω–æ)

---

## üìö –î–æ–¥–∞—Ç–∫–æ–≤—ñ —Ä–µ—Å—É—Ä—Å–∏

- **–®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç**: [QUICK_START_DEPLOYMENT.md](QUICK_START_DEPLOYMENT.md)
- **–î–µ—Ç–∞–ª—å–Ω–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è**: [docs/CLOUDFLARE_PAGES_SETUP.md](docs/CLOUDFLARE_PAGES_SETUP.md)
- **–°–∫—Ä–∏–ø—Ç–∏**: [scripts/README.md](scripts/README.md)

---

## üí° –ü–æ—Ä–∞–¥–∏ –Ω–∞ –º–∞–π–±—É—Ç–Ω—î

1. **–ó–∞–≤–∂–¥–∏ –∫–æ–ø—ñ—é–π—Ç–µ —Ç–æ–∫–µ–Ω–∏ —á–µ—Ä–µ–∑ –ë–ª–æ–∫–Ω–æ—Ç**
   - –¶–µ –¥–∞—î –∑–º–æ–≥—É –ø–æ–±–∞—á–∏—Ç–∏ –Ω–µ–≤–∏–¥–∏–º—ñ —Å–∏–º–≤–æ–ª–∏
2. **–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ triple-click –¥–ª—è –≤–∏–¥—ñ–ª–µ–Ω–Ω—è**
   - –¢–æ—á–Ω–æ –≤–∏–¥—ñ–ª—è—î –≤–µ—Å—å —Ç–µ–∫—Å—Ç
3. **–ù—ñ–∫–æ–ª–∏ –Ω–µ –¥—Ä—É–∫—É–π—Ç–µ —Ç–æ–∫–µ–Ω–∏ –≤—Ä—É—á–Ω—É**
   - –¢—ñ–ª—å–∫–∏ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ Ctrl+C / Ctrl+V
4. **–ü–µ—Ä–µ–≤—ñ—Ä—è–π—Ç–µ —Ñ–æ—Ä–º–∞—Ç –ø–µ—Ä–µ–¥ –¥–æ–¥–∞–≤–∞–Ω–Ω—è–º —É GitHub**
   - –û–¥–∏–Ω —Ä—è–¥–æ–∫, –±–µ–∑ –ø—Ä–æ–±—ñ–ª—ñ–≤

---

**–ü–æ—Ç—Ä—ñ–±–Ω–∞ –¥–æ–ø–æ–º–æ–≥–∞?** –ó–∞–ø—É—Å—Ç—ñ—Ç—å —Å–∫—Ä–∏–ø—Ç: `.\scripts\clean-token.ps1` - –≤—ñ–Ω –≤—Å–µ –∑—Ä–æ–±–∏—Ç—å –∑–∞ –≤–∞—Å! ‚ú®

